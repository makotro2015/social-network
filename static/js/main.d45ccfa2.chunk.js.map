{"version":3,"sources":["components/profile/Profile.module.scss","components/header/Header.module.scss","assets/images/backgroundLogin.jpg","redux/dialogs-reducer.js","components/dialogs/dialog/DialogItem.jsx","components/dialogs/message/Message.jsx","components/common/formsControls/FormsControls.js","assets/validation/validation.js","components/dialogs/Dialogs.jsx","hoc/withAuthNavigate.js","components/dialogs/DialogsContainer.jsx","components/profile/myPosts/post/Post.jsx","components/profile/myPosts/MyPosts.jsx","api/api.js","redux/profile-reducer.js","components/profile/myPosts/MyPostsContainer.jsx","components/common/preloader/Preloader.jsx","components/profile/profileInfo/ProfileStatus.jsx","components/profile/profileInfo/ProfileInfo.jsx","components/profile/Profile.jsx","hoc/withUseParams.js","components/profile/ProfileContainer.jsx","components/navbar/Navbar.jsx","components/header/Header.jsx","redux/auth-reducer.js","components/header/HeaderContainer.jsx","Layout.jsx","assets/helper.js","redux/users-reducer.js","redux/selectors.js","components/common/Paginator/Paginator.jsx","components/users/User.jsx","components/users/Users.jsx","components/users/UsersContainer.jsx","components/login/Login.jsx","redux/app-reducer.js","App.js","serviceWorker.js","redux/redux-store.js","index.js","assets/images/user.png","components/dialogs/Dialogs.module.scss"],"names":["module","exports","initialState","dialogs","id","name","messages","message","dialogsReducer","state","action","type","DialogItem","props","className","s","dialog","to","Message","Element","input","meta","touched","error","hasError","elementtype","required","value","undefined","maxLengthCreator","maxLength","length","maxLength10","AddMessageReduxForm","reduxForm","form","onSubmit","handleSubmit","Field","placeholder","component","validate","Dialogs","dialogsElements","map","d","i","key","messagesElements","m","dialogsItems","formData","sendMessage","newMessageBody","mapStateToPropsForNavigate","isAuth","auth","withAuthNavigateComponent","Component","NavigateComponent","this","React","connect","compose","dialogsPage","Post","post","likeCount","maxLength5","AddPostReduxForm","MyPosts","postsElements","posts","p","postsBlock","addPost","newPostBody","instance","axios","withCredentials","baseURL","headers","usersAPI","getUsers","pageSize","currentPage","get","then","response","data","unfollow","userId","delete","follow","profileAPI","status","put","photoFile","FormData","append","authAPI","email","password","rememberMe","profile","currentUserId","isFetching","setCurrentUserId","setStatus","profileReducer","newPost","likesCount","filter","postId","photos","MyPostsContainer","profilePage","Preloader","ProfileStatus","useState","editMode","setEditMode","useEffect","onBlur","updateStatus","onChange","e","currentTarget","autoFocus","onDoubleClick","ProfileInfo","src","large","userPhoto","alt","isOwner","target","files","savePhoto","lookingForAJob","lookingForAJobDescription","aboutMe","fullName","Profile","content","mapStateToPropsForParams","authorizedUserId","ProfileContainer","getUserProfileThunkCreator","getStatus","refreshProfile","prevProps","dispatch","a","resultCode","file","useParams","Navbar","Header","header","login","onClick","logout","setAuthUserData","getAuthUserDataThunkCreator","authReducer","HeaderContainer","Layout","updateObjectInArray","items","itemId","objPropName","newObjProps","u","users","totalUsersCount","followingInProgress","followSuccess","unfollowSuccess","setIsFetching","setIsFollowingProgress","followUnfollowFlow","apiMethod","actionCreator","usersReducer","followed","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","Paginator","portionSize","pagesCount","Math","ceil","totalItemsCount","pages","push","portionCount","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","changeCurrentPage","Users","user","small","disabled","some","onPageChanged","User","UsersAPI","setCurrentPage","getUsersThunkCreator","pageCount","bind","totalCount","maxLength30","LoginReduxForm","stopSubmit","_error","style","backgroundImage","background","isInitialized","appReducer","App","initializedApp","path","element","DialogsContainer","UsersContainer","app","authUserData","Promise","all","Boolean","window","location","hostname","match","reducers","combineReducers","formReducer","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","__store__","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.d45ccfa2.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"profile-content\":\"Profile_profile-content__2fr2J\",\"img\":\"Profile_img__3m32G\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__2hqf0\"};","module.exports = __webpack_public_path__ + \"static/media/backgroundLogin.d363788e.jpg\";","const SEND_MESSAGE = 'SEND-MESSAGE';\r\n\r\nconst initialState = {\r\n  dialogs: [\r\n    { id: 1, name: 'Alena' },\r\n    { id: 2, name: 'Lena' },\r\n    { id: 3, name: 'Elena' },\r\n    { id: 4, name: 'Alex' },\r\n    { id: 5, name: 'Olya' },\r\n    { id: 6, name: 'Sasha' },\r\n  ],\r\n  messages: [\r\n    { id: 1, message: 'Hi' },\r\n    { id: 2, message: 'Ho' },\r\n    { id: 3, message: 'He' },\r\n    { id: 4, message: 'Hi-hi' },\r\n    { id: 5, message: 'Hi-ha' },\r\n    { id: 6, message: 'Hi-he' },\r\n  ],\r\n};\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n  case SEND_MESSAGE:\r\n    return {\r\n      ...state,\r\n      messages: [...state.messages, { id: 6, message: action.message }],\r\n    };\r\n\r\n  default:\r\n    return state;\r\n  }\r\n};\r\n\r\nexport const sendMessage = (message) => ({ type: 'SEND-MESSAGE', message });\r\n\r\nexport default dialogsReducer;\r\n","import React from 'react';\r\nimport { NavLink, Outlet } from 'react-router-dom';\r\nimport s from './DialogItem.module.scss';\r\n\r\nfunction DialogItem(props) {\r\n  return (\r\n    <>\r\n      <div className={s.dialog}>\r\n        <NavLink to={`${props.id}`}> {props.name} </NavLink>\r\n      </div>\r\n      <Outlet />\r\n    </>\r\n  );\r\n}\r\n\r\nexport default DialogItem;\r\n","import React from 'react';\r\nimport s from './Message.module.scss';\r\n\r\nfunction Message(props) {\r\n  return <div className={s.message}>{props.message}</div>;\r\n}\r\n\r\nexport default Message;\r\n","import React from 'react';\r\nimport './FormsControls.scss';\r\n\r\nexport const Element = ({ input, meta: { touched, error }, ...props }) => {\r\n  const hasError = touched && error;\r\n  return (\r\n    <div className={`form-control ${hasError ? 'error' : ''}`}>\r\n      <props.elementtype {...input} {...props} />\r\n      {hasError && (\r\n        <div>\r\n          <span>{error}</span>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n","export const required = (value) => {\r\n  return value ? undefined : 'Поле обязательно для заполнения!';\r\n};\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n  return value.length > maxLength\r\n    ? `Длина текста не должна превышать ${maxLength}`\r\n    : undefined;\r\n};\r\n","import React from 'react';\r\nimport s from './Dialogs.module.scss';\r\nimport DialogItem from './dialog/DialogItem';\r\nimport Message from './message/Message';\r\nimport { Field } from 'redux-form';\r\nimport { reduxForm } from 'redux-form';\r\nimport { Element } from '../common/formsControls/FormsControls';\r\nimport {\r\n  required,\r\n  maxLengthCreator,\r\n} from './../../assets/validation/validation';\r\n\r\nconst maxLength10 = maxLengthCreator(10);\r\n\r\nconst AddMessageForm = (props) => {\r\n  return (\r\n    <form onSubmit={props.handleSubmit}>\r\n      <div>\r\n        <Field\r\n          placeholder=\"add message\"\r\n          name=\"newMessageBody\"\r\n          component={Element}\r\n          elementtype=\"textarea\"\r\n          validate={[required, maxLength10]}\r\n        />\r\n      </div>\r\n      <div>\r\n        <button> Send</button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nconst AddMessageReduxForm = reduxForm({\r\n  form: 'dialogAddMessageForm',\r\n})(AddMessageForm);\r\n\r\nfunction Dialogs(props) {\r\n  const dialogsElements = props.dialogs.map((d, i) => (\r\n    <DialogItem key={i} name={d.name} id={d.id} />\r\n  ));\r\n  const messagesElements = props.messages.map((m, i) => (\r\n    <Message key={i} message={m.message} />\r\n  ));\r\n\r\n  const addNewMessage = (formData) => {\r\n    props.sendMessage(formData.newMessageBody);\r\n  };\r\n\r\n  return (\r\n    <div className={s.dialogs}>\r\n      <div className={s.dialogsItems}>{dialogsElements}</div>\r\n      <div className={s.messages}>\r\n        <div>{messagesElements}</div>\r\n        <AddMessageReduxForm onSubmit={addNewMessage} />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Dialogs;\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Navigate } from 'react-router-dom';\r\n\r\nconst mapStateToPropsForNavigate = (state) => {\r\n  return {\r\n    isAuth: state.auth.isAuth,\r\n  };\r\n};\r\n\r\nexport const withAuthNavigateComponent = (Component) => {\r\n  class NavigateComponent extends React.Component {\r\n    render() {\r\n      if (!this.props.isAuth) {\r\n        return <Navigate to=\"/login/\" />;\r\n      }\r\n      return <Component {...this.props} />;\r\n    }\r\n  }\r\n\r\n  return connect(mapStateToPropsForNavigate)(NavigateComponent);\r\n};\r\n","import { sendMessage } from './../../redux/dialogs-reducer.js';\r\nimport Dialogs from './Dialogs';\r\nimport { connect } from 'react-redux';\r\nimport { withAuthNavigateComponent } from '../../hoc/withAuthNavigate.js';\r\nimport { compose } from 'redux';\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    dialogs: state.dialogsPage.dialogs,\r\n    messages: state.dialogsPage.messages,\r\n  };\r\n};\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, {\r\n    sendMessage,\r\n  }),\r\n  withAuthNavigateComponent,\r\n)(Dialogs);\r\n","import React from 'react';\r\nimport s from './Post.module.scss';\r\n\r\nfunction Post(props) {\r\n  return (\r\n    <div className={s.post}>\r\n      {props.message} {props.id} {props.likeCount}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Post;\r\n","import React from 'react';\r\nimport s from './MyPosts.module.scss';\r\nimport Post from './post/Post';\r\nimport { Field, reduxForm } from 'redux-form';\r\nimport {\r\n  required,\r\n  maxLengthCreator,\r\n} from './../../../assets/validation/validation';\r\nimport { Element } from '../../common/formsControls/FormsControls';\r\n\r\nconst maxLength5 = maxLengthCreator(5);\r\n\r\nconst AddPostForm = (props) => {\r\n  return (\r\n    <form onSubmit={props.handleSubmit}>\r\n      <div>\r\n        <Field\r\n          placeholder=\"add post\"\r\n          name=\"newPostBody\"\r\n          component={Element}\r\n          elementtype=\"textarea\"\r\n          validate={[required, maxLength5]}\r\n        />\r\n      </div>\r\n      <div>\r\n        <button> Добавить пост </button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nconst AddPostReduxForm = reduxForm({\r\n  form: 'profileAddPostForm',\r\n})(AddPostForm);\r\n\r\nfunction MyPosts(props) {\r\n  const postsElements = props.posts.map((p, i) => (\r\n    <Post key={i + 1} message={p.message} likeCount={p.likeCount} />\r\n  ));\r\n\r\n  const addNewPost = (formData) => {\r\n    props.addPost(formData.newPostBody);\r\n  };\r\n\r\n  return (\r\n    <div className={s.postsBlock}>\r\n      <h3>my posts</h3>\r\n      <AddPostReduxForm onSubmit={addNewPost} />\r\n      <div className={s.posts}>{postsElements}</div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default MyPosts;\r\n","import * as axios from 'axios';\r\n\r\nconst instance = axios.create({\r\n  withCredentials: true,\r\n  baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n  headers: {\r\n    'API-KEY': '0ca93344-d4dc-43d1-be1f-b09a6d443087',\r\n  },\r\n});\r\n\r\nexport const usersAPI = {\r\n  getUsers(pageSize = 10, currentPage = 1) {\r\n    return instance\r\n      .get(`users?count=${pageSize}&page=${currentPage}`)\r\n      .then((response) => response.data);\r\n  },\r\n\r\n  unfollow(userId) {\r\n    return instance\r\n      .delete(`follow/${userId}`)\r\n      .then((response) => response.data);\r\n  },\r\n\r\n  follow(userId) {\r\n    return instance.post(`follow/${userId}`).then((response) => response.data);\r\n  },\r\n};\r\n\r\nexport const profileAPI = {\r\n  getProfile(userId) {\r\n    return instance.get(`profile/${userId}`).then((response) => response.data);\r\n  },\r\n\r\n  getStatus(userId) {\r\n    return instance\r\n      .get(`profile/status/${userId}`)\r\n      .then((response) => response.data);\r\n  },\r\n\r\n  updateStatus(status) {\r\n    return instance\r\n      .put('profile/status/', { status: status })\r\n      .then((response) => response.data);\r\n  },\r\n\r\n  savePhoto(photoFile) {\r\n    const formData = new FormData();\r\n    formData.append('image', photoFile);\r\n    return instance\r\n      .put('profile/photo/', formData, {\r\n        headers: {\r\n          'Content-Type': 'multipart/form-data',\r\n        },\r\n      })\r\n      .then((response) => response.data);\r\n  },\r\n};\r\n\r\nexport const authAPI = {\r\n  me() {\r\n    return instance.get('auth/me').then((response) => response.data);\r\n  },\r\n  login(email, password, rememberMe = false) {\r\n    return instance\r\n      .post('auth/login', { email, password, rememberMe })\r\n      .then((response) => response.data);\r\n  },\r\n  logout() {\r\n    return instance.delete('auth/login').then((response) => response.data);\r\n  },\r\n};\r\n","import { profileAPI } from './../api/api';\r\n\r\nconst ADD_POST = 'ADD_POST';\r\nconst DELETE_POST = 'DELETE_POST';\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\r\nconst SET_CURRENT_USER_ID = 'SET_CURRENT_USER_ID';\r\nconst SET_STATUS = 'SET_STATUS';\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING';\r\nconst SAVE_PHOTO_SUCCESS = 'SAVE_PHOTO_SUCCESS';\r\n\r\nconst initialState = {\r\n  posts: [\r\n    { id: 1, message: 'hello', likeCount: 12 },\r\n    { id: 2, message: 'Alena', likeCount: 10 },\r\n    { id: 3, message: 'name', likeCount: 2 },\r\n    { id: 4, message: 'family', likeCount: 1 },\r\n  ],\r\n  profile: '',\r\n  currentUserId: null,\r\n  isFetching: false,\r\n  status: '',\r\n};\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n  case ADD_POST:\r\n    const newPost = {\r\n      id: 1,\r\n      message: action.newPostBody,\r\n      likesCount: 0,\r\n    };\r\n    return {\r\n      ...state,\r\n      posts: [...state.posts, newPost],\r\n    };\r\n\r\n  case DELETE_POST:\r\n    return {\r\n      ...state,\r\n      posts: state.posts.filter((p) => p.id !== action.postId),\r\n    };\r\n\r\n  case SET_USER_PROFILE:\r\n    return {\r\n      ...state,\r\n      profile: action.profile,\r\n    };\r\n  case SET_CURRENT_USER_ID:\r\n    return {\r\n      ...state,\r\n      currentUserId: action.currentUserId,\r\n    };\r\n\r\n  case TOGGLE_IS_FETCHING:\r\n    return {\r\n      ...state,\r\n      isFetching: action.isFetching,\r\n    };\r\n\r\n  case SET_STATUS:\r\n    return {\r\n      ...state,\r\n      status: action.status,\r\n    };\r\n\r\n  case SAVE_PHOTO_SUCCESS:\r\n    return {\r\n      ...state,\r\n      profile: { ...state.profile, photos: action.photos },\r\n    };\r\n\r\n  default:\r\n    return state;\r\n  }\r\n};\r\n\r\nexport const addPost = (newPostBody) => ({ type: 'ADD_POST', newPostBody });\r\nexport const deletePost = (postId) => ({ type: 'DELETE_POST', postId });\r\nexport const savePhotoSuccess = (photos) => ({\r\n  type: 'SAVE_PHOTO_SUCCESS',\r\n  photos,\r\n});\r\nexport const setUserProfile = (profile) => ({\r\n  type: 'SET_USER_PROFILE',\r\n  profile,\r\n});\r\nexport const setCurrentUserId = (currentUserId) => ({\r\n  type: 'SET_CURRENT_USER_ID',\r\n  currentUserId,\r\n});\r\nexport const setIsFetching = (isFetching) => ({\r\n  type: 'TOGGLE_IS_FETCHING',\r\n  isFetching,\r\n});\r\nexport const setStatus = (status) => ({\r\n  type: 'SET_STATUS',\r\n  status,\r\n});\r\nexport const getUserProfileThunkCreator = (userId) => async (dispatch) => {\r\n  const data = await profileAPI.getProfile(userId);\r\n  dispatch(setUserProfile(data));\r\n};\r\n\r\nexport const getStatus = (userId) => async (dispatch) => {\r\n  const data = await profileAPI.getStatus(userId);\r\n  dispatch(setStatus(data));\r\n};\r\n\r\nexport const updateStatus = (status) => async (dispatch) => {\r\n  const data = await profileAPI.updateStatus(status);\r\n  if (data.resultCode === 0) {\r\n    dispatch(setStatus(status));\r\n  }\r\n};\r\n\r\nexport const savePhoto = (file) => async (dispatch) => {\r\n  const data = await profileAPI.savePhoto(file);\r\n  if (data.resultCode === 0) {\r\n    dispatch(savePhotoSuccess(data.data.photos));\r\n  }\r\n};\r\n\r\nexport default profileReducer;\r\n","import MyPosts from './MyPosts';\r\nimport { addPost } from './../../../redux/profile-reducer';\r\nimport { connect } from 'react-redux';\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    posts: state.profilePage.posts,\r\n  };\r\n};\r\n\r\nconst MyPostsContainer = connect(mapStateToProps, {\r\n  addPost,\r\n})(MyPosts);\r\n\r\nexport default MyPostsContainer;\r\n","import React from 'react';\r\nimport './Preloader.scss';\r\n\r\nfunction Preloader(props) {\r\n  return (\r\n    <div className=\"preloader\">\r\n      <span></span>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Preloader;\r\n","import React, { useEffect, useState } from 'react';\r\n\r\nconst ProfileStatus = (props) => {\r\n  const [editMode, setEditMode] = useState(false);\r\n  const [status, setStatus] = useState(props.status);\r\n\r\n  useEffect(() => {\r\n    setStatus(props.status);\r\n  }, [props.status]);\r\n\r\n  const activateEditMode = () => {\r\n    setEditMode(true);\r\n  };\r\n\r\n  const deactivateEditMode = () => {\r\n    setEditMode(false);\r\n    props.updateStatus(status);\r\n  };\r\n\r\n  const onStatusChange = (e) => {\r\n    setStatus(e.currentTarget.value);\r\n  };\r\n\r\n  // componentDidUpdate(prevProps, prevState) {\r\n  //   if (prevProps.status !== this.props.status) {\r\n  //     this.setState({\r\n  //       status: this.props.status,\r\n  //     });\r\n  //   }\r\n  // }\r\n\r\n  return (\r\n    <>\r\n      {editMode ? (\r\n        <input\r\n          onBlur={deactivateEditMode}\r\n          onChange={onStatusChange}\r\n          value={status}\r\n          autoFocus\r\n        />\r\n      ) : (\r\n        <div onDoubleClick={activateEditMode}>\r\n          {props.status || 'Статус не добавлен'}\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ProfileStatus;\r\n\r\n// import React from 'react';\r\n\r\n// class ProfileStatus extends React.Component {\r\n//   state = {\r\n//     editMode: false,\r\n//     status: this.props.status,\r\n//   };\r\n\r\n//   activateEditMode = () => {\r\n//     this.setState({\r\n//       editMode: true,\r\n//     });\r\n//   };\r\n\r\n//   deactivateEditMode = () => {\r\n//     this.setState({\r\n//       editMode: false,\r\n//     });\r\n//     this.props.updateStatus(this.state.status);\r\n//   };\r\n\r\n//   onStatusChange = (e) => {\r\n//     this.setState({\r\n//       status: e.currentTarget.value,\r\n//     });\r\n//   };\r\n\r\n//   componentDidUpdate(prevProps, prevState) {\r\n//     if (prevProps.status !== this.props.status) {\r\n//       this.setState({\r\n//         status: this.props.status,\r\n//       });\r\n//     }\r\n//   }\r\n\r\n//   render() {\r\n//     return (\r\n//       <>\r\n//         {this.state.editMode ? (\r\n//           <input\r\n//             onBlur={this.deactivateEditMode}\r\n//             onChange={this.onStatusChange}\r\n//             value={this.state.status}\r\n//             autoFocus\r\n//           />\r\n//         ) : (\r\n//           <div onDoubleClick={this.activateEditMode}>\r\n//             {this.props.status || 'Статус не добавлен'}\r\n//           </div>\r\n//         )}\r\n//       </>\r\n//     );\r\n//   }\r\n// }\r\n\r\n// export default ProfileStatus;\r\n","import React from 'react';\r\nimport './ProfileInfo.scss';\r\nimport Preloader from './../../common/preloader/Preloader';\r\nimport ProfileStatus from './ProfileStatus';\r\nimport userPhoto from '../../../assets/images/user.png';\r\n\r\nfunction ProfileInfo({profile, ...props}) {\r\n  if (!profile) {\r\n    return <Preloader />;\r\n  }\r\n\r\n  const onMainPhotoSelected = (e) => {\r\n    if (e.target.files.length) {\r\n      props.savePhoto(e.target.files[0]);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"profile-content\">\r\n      <div className=\"img\"></div>\r\n\r\n      <img\r\n        src={profile.photos.large || userPhoto}\r\n        alt=\"Фотография пользователя\"\r\n      />\r\n      {props.isOwner && <input type={'file'} onChange={onMainPhotoSelected} />}\r\n      <div>\r\n        looking for a job: {profile.lookingForAJob ? 'yes' : 'no'}\r\n      </div>\r\n      {profile.lookingForAJob &&\r\n        <div>Мои навыки: {profile.lookingForAJobDescription}</div>\r\n      }\r\n      <div>\r\n        <ProfileStatus\r\n          status={props.status}\r\n          updateStatus={props.updateStatus}\r\n        />\r\n      </div>\r\n      <div>\r\n        ${profile.aboutMe}\r\n        <br />${profile.fullName}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ProfileInfo;\r\n","import React from 'react';\r\nimport s from './Profile.module.scss';\r\nimport MyPostsContainer from './myPosts/MyPostsContainer';\r\nimport ProfileInfo from './profileInfo/ProfileInfo';\r\n\r\nfunction Profile(props) {\r\n  return (\r\n    <div className={s.content}>\r\n      <ProfileInfo\r\n        isOwner={props.isOwner}\r\n        profile={props.profile}\r\n        status={props.status}\r\n        updateStatus={props.updateStatus}\r\n        savePhoto={props.savePhoto}\r\n      />\r\n      <MyPostsContainer />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Profile;\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { useParams } from 'react-router-dom';\r\nimport { setCurrentUserId } from './../redux/profile-reducer.js';\r\n\r\nconst mapStateToPropsForParams = (state) => {\r\n  return {\r\n    userId: state.profilePage.currentUserId,\r\n    authorizedUserId: state.auth.id,\r\n  };\r\n};\r\n\r\nexport const withUseParamsComponent = (Component) => {\r\n  const UseParamsComponent = (props) => {\r\n    let currentUserId = useParams().userId;\r\n    const isOwner = !currentUserId;\r\n    if (!currentUserId) {\r\n      currentUserId = props.authorizedUserId;\r\n    }\r\n    props.setCurrentUserId(currentUserId);\r\n    return (\r\n      <Component {...props} currentUserId={currentUserId} isOwner={isOwner} />\r\n    );\r\n  };\r\n  return connect(mapStateToPropsForParams, {\r\n    setCurrentUserId,\r\n  })(UseParamsComponent);\r\n};\r\n","import React from 'react';\r\nimport Profile from './Profile';\r\nimport { connect } from 'react-redux';\r\nimport {\r\n  setCurrentUserId,\r\n  getUserProfileThunkCreator,\r\n  getStatus,\r\n  updateStatus,\r\n  savePhoto,\r\n} from './../../redux/profile-reducer.js';\r\nimport { withUseParamsComponent } from '../../hoc/withUseParams';\r\nimport { withAuthNavigateComponent } from '../../hoc/withAuthNavigate';\r\nimport { compose } from 'redux';\r\n\r\nclass ProfileContainer extends React.Component {\r\n  refreshProfile() {\r\n    this.props.getUserProfileThunkCreator(this.props.currentUserId);\r\n    this.props.getStatus(this.props.currentUserId);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.refreshProfile();\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    if (this.props.currentUserId !== prevProps.currentUserId) {\r\n      this.refreshProfile();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <Profile\r\n          {...this.props}\r\n          isOwner={this.props.isOwner}\r\n          profile={this.props.profile}\r\n          status={this.props.status}\r\n          updateStatus={this.props.updateStatus}\r\n          savePhoto={this.props.savePhoto}\r\n        />\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  profile: state.profilePage.profile,\r\n  status: state.profilePage.status,\r\n  isFetching: state.profilePage.isFetching,\r\n  authorizedUserId: state.auth.id,\r\n  isAuth: state.auth.isAuth,\r\n});\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, {\r\n    setCurrentUserId,\r\n    getUserProfileThunkCreator,\r\n    getStatus,\r\n    updateStatus,\r\n    savePhoto,\r\n  }),\r\n  withUseParamsComponent,\r\n  withAuthNavigateComponent,\r\n)(ProfileContainer);\r\n","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport './Navbar.scss';\r\n\r\nfunction Navbar() {\r\n  return (\r\n    <nav className=\"nav\">\r\n      <div className=\"item\">\r\n        <NavLink to=\"profile\">Профиль</NavLink>\r\n      </div>\r\n      <div className=\"item\">\r\n        <NavLink to=\"dialogs\">Диалоги</NavLink>\r\n      </div>\r\n      <div className=\"item\">\r\n        <NavLink to=\"users\">Пользователи</NavLink>\r\n      </div>\r\n      {/* <div className=\"item\">\r\n        <a>Новости</a>\r\n      </div>\r\n      <div className=\"item\">\r\n        <a>Музыка</a>\r\n      </div>\r\n      <div className=\"item\">\r\n        <a>Настройки</a>\r\n      </div> */}\r\n    </nav>\r\n  );\r\n}\r\n\r\nexport default Navbar;\r\n","import React from 'react';\r\nimport s from './Header.module.scss';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nfunction Header(props) {\r\n  return (\r\n    <header className={s.header}>\r\n      {' '}\r\n      header\r\n      <div>\r\n        {props.isAuth ? (\r\n          <div>\r\n            {props.login} <button onClick={props.logout}>Log out</button>\r\n          </div>\r\n        ) : (\r\n          <NavLink to=\"login\"> Login </NavLink>\r\n        )}\r\n      </div>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import { authAPI } from '../api/api';\r\nimport { stopSubmit } from 'redux-form';\r\n\r\nconst SET_USER_DATA = 'SET_USER_DATA';\r\n\r\nconst initialState = {\r\n  email: null,\r\n  id: null,\r\n  login: null,\r\n  isAuth: false,\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n  case SET_USER_DATA:\r\n    return {\r\n      ...state,\r\n      ...action.data,\r\n    };\r\n\r\n  default:\r\n    return state;\r\n  }\r\n};\r\n\r\nexport const setAuthUserData = (email, id, login, isAuth) => ({\r\n  type: 'SET_USER_DATA',\r\n  data: { email, id, login, isAuth },\r\n});\r\n\r\nexport const getAuthUserDataThunkCreator = () => async (dispatch) => {\r\n  const data = await authAPI.me();\r\n  if (data.resultCode === 0) {\r\n    const { email, id, login } = data.data;\r\n    dispatch(setAuthUserData(email, id, login, true));\r\n  }\r\n};\r\n\r\nexport const login = (email, password, rememberMe) => async (dispatch) => {\r\n  const data = await authAPI.login(email, password, rememberMe);\r\n  if (data.resultCode === 0) {\r\n    dispatch(getAuthUserDataThunkCreator());\r\n  } else {\r\n    const message =\r\n        data.messages.length > 0 ? data.messages[0] : 'Что-то пошло не так...';\r\n    dispatch(stopSubmit('login', { _error: message }));\r\n  }\r\n};\r\n\r\nexport const logout = () => async (dispatch) => {\r\n  const data = await authAPI.logout();\r\n  if (data.resultCode === 0) {\r\n    dispatch(setAuthUserData(null, null, null, false));\r\n  }\r\n};\r\n\r\nexport default authReducer;\r\n","import React from 'react';\r\nimport Header from './Header';\r\nimport { connect } from 'react-redux';\r\nimport { logout } from './../../redux/auth-reducer.js';\r\n\r\nclass HeaderContainer extends React.Component {\r\n\r\n  render() {\r\n    return <Header {...this.props} />;\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  isAuth: state.auth.isAuth,\r\n  login: state.auth.login,\r\n});\r\n\r\nexport default connect(mapStateToProps, {\r\n  logout,\r\n})(HeaderContainer);\r\n","import React from 'react';\r\nimport { Outlet } from 'react-router-dom';\r\nimport './Layout.scss';\r\nimport Navbar from './components/navbar/Navbar.jsx';\r\nimport HeaderContainer from './components/header/HeaderContainer';\r\n\r\nfunction Layout(props) {\r\n  return (\r\n    <div className=\"app-wrapper\">\r\n      <HeaderContainer />\r\n      <Navbar />\r\n      <div className=\"content-wrapper\">\r\n        <Outlet />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Layout;\r\n","export const updateObjectInArray = (\r\n  items,\r\n  itemId,\r\n  objPropName,\r\n  newObjProps,\r\n) => {\r\n  return items.map((u) => {\r\n    if (u[objPropName] === itemId) {\r\n      return { ...u, ...newObjProps };\r\n    }\r\n    return u;\r\n  });\r\n};\r\n","import { usersAPI } from './../api/api';\r\nimport { updateObjectInArray } from './../assets/helper';\r\n\r\nconst FOLLOW = 'FOLLOW';\r\nconst UNFOLLOW = 'UNFOLLOW';\r\nconst SET_USERS = 'SET-USERS';\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE';\r\nconst SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT';\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING';\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE_IS_FOLLOWING_PROGRESS';\r\n\r\nconst initialState = {\r\n  users: [],\r\n  pageSize: 20,\r\n  totalUsersCount: 0,\r\n  currentPage: 1,\r\n  isFetching: false,\r\n  followingInProgress: [],\r\n};\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n  case FOLLOW:\r\n    return {\r\n      ...state,\r\n      users: updateObjectInArray(state.users, action.userId, 'id', { followed: true }),\r\n    };\r\n\r\n  case UNFOLLOW:\r\n    return {\r\n      ...state,\r\n      users: updateObjectInArray(state.users, action.userId, 'id', { followed: false }),\r\n    };\r\n\r\n  case SET_USERS:\r\n    return {\r\n      ...state,\r\n      users: action.users,\r\n    };\r\n\r\n  case SET_CURRENT_PAGE:\r\n    return {\r\n      ...state,\r\n      currentPage: action.currentPage,\r\n    };\r\n\r\n  case SET_TOTAL_USERS_COUNT:\r\n    return {\r\n      ...state,\r\n      totalUsersCount: action.totalUsersCount,\r\n    };\r\n\r\n  case TOGGLE_IS_FETCHING:\r\n    return {\r\n      ...state,\r\n      isFetching: action.isFetching,\r\n    };\r\n  case TOGGLE_IS_FOLLOWING_PROGRESS:\r\n    return {\r\n      ...state,\r\n      followingInProgress: action.followingInProgress\r\n        ? [...state.followingInProgress, action.userId]\r\n        : state.followingInProgress.filter((id) => id !== action.userId),\r\n    };\r\n\r\n  default:\r\n    return state;\r\n  }\r\n};\r\n\r\nexport const followSuccess = (userId) => ({ type: 'FOLLOW', userId });\r\nexport const unfollowSuccess = (userId) => ({ type: 'UNFOLLOW', userId });\r\nexport const setUsers = (users) => ({ type: 'SET-USERS', users });\r\nexport const setCurrentPage = (currentPage) => ({\r\n  type: 'SET_CURRENT_PAGE',\r\n  currentPage,\r\n});\r\nexport const setTotalUsersCount = (totalUsersCount) => ({\r\n  type: 'SET_TOTAL_USERS_COUNT',\r\n  totalUsersCount,\r\n});\r\nexport const setIsFetching = (isFetching) => ({\r\n  type: 'TOGGLE_IS_FETCHING',\r\n  isFetching,\r\n});\r\nexport const setIsFollowingProgress = (followingInProgress, userId) => ({\r\n  type: 'TOGGLE_IS_FOLLOWING_PROGRESS',\r\n  followingInProgress,\r\n  userId,\r\n});\r\n\r\nexport const getUsersThunkCreator = (pageSize, currentPage) => async (dispatch) => {\r\n  dispatch(setIsFetching(true));\r\n  const data = await usersAPI.getUsers(pageSize, currentPage);\r\n  dispatch(setIsFetching(false));\r\n  dispatch(setUsers(data.items));\r\n  dispatch(setTotalUsersCount(data.totalCount));\r\n};\r\n\r\nconst followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\r\n  dispatch(setIsFollowingProgress(true, userId));\r\n  const data = await apiMethod(userId);\r\n  if (data.resultCode === 0) {\r\n    dispatch(actionCreator(userId));\r\n  }\r\n  dispatch(setIsFollowingProgress(false, userId));\r\n};\r\n\r\nexport const follow = (userId) => async (dispatch) => {\r\n  followUnfollowFlow(dispatch, userId, usersAPI.follow.bind(usersAPI), followSuccess);\r\n};\r\n\r\nexport const unfollow = (userId) => async (dispatch) => {\r\n  followUnfollowFlow(dispatch, userId, usersAPI.unfollow.bind(usersAPI), unfollowSuccess);\r\n};\r\n\r\nexport default usersReducer;\r\n","export const getUsers = (state) => state.usersPage.users;\r\nexport const getPageSize = (state) => state.usersPage.pageSize;\r\nexport const getTotalUsersCount = (state) => state.usersPage.totalUsersCount;\r\nexport const getCurrentPage = (state) => state.usersPage.currentPage;\r\nexport const getIsFetching = (state) => state.usersPage.isFetching;\r\nexport const getFollowingInProgress = (state) => state.usersPage.followingInProgress;","import React, { useState } from 'react';\r\nimport './Paginator.scss';\r\n\r\nfunction Paginator({ portionSize = 10, ...props }) {\r\n  const pagesCount = Math.ceil(props.totalItemsCount / props.pageSize);\r\n  const pages = [];\r\n  for (let i = 1; i <= pagesCount; i++) {\r\n    pages.push(i);\r\n  }\r\n\r\n  const portionCount = Math.ceil(pagesCount / portionSize);\r\n  const [portionNumber, setPortionNumber] = useState(1);\r\n  const leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n  const rightPortionPageNumber = portionNumber * portionSize;\r\n\r\n  return (\r\n    <div className=\"paginator\">\r\n      {portionNumber > 1 && (\r\n        <button\r\n          onClick={() => {\r\n            setPortionNumber(portionNumber - 1);\r\n          }}\r\n        >\r\n          Назад\r\n        </button>\r\n      )}\r\n      {pages\r\n        .filter(\r\n          (p) => p >= leftPortionPageNumber && p <= rightPortionPageNumber,\r\n        )\r\n        .map((p) => (\r\n          <span\r\n            key={p.id}\r\n            className={props.currentPage === p ? 'currentPage' : ''}\r\n            onClick={() => {\r\n              props.changeCurrentPage(p);\r\n            }}\r\n          >\r\n            {p}\r\n          </span>\r\n        ))}\r\n      {portionCount > portionNumber && (\r\n        <button\r\n          onClick={() => {\r\n            setPortionNumber(portionNumber + 1);\r\n          }}\r\n        >\r\n          Вперед\r\n        </button>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Paginator;\r\n","import React from 'react';\r\nimport userPhoto from './../../assets/images/user.png';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nfunction Users({user, ...props}) {\r\n  return (\r\n    <div>\r\n      <div>\r\n        <NavLink to={'../profile/' + user.id}>\r\n          <img\r\n            src={user.photos.small !== null ? user.photos.small : userPhoto}\r\n            alt=\"Фотография пользователя\"\r\n          />\r\n        </NavLink>\r\n        {user.followed ? (\r\n          <button\r\n            disabled={props.followingInProgress.some((id) => id === user.id)}\r\n            onClick={() => {\r\n              props.unfollow(user.id);\r\n            }}\r\n          >\r\n                Unfollow\r\n          </button>\r\n        ) : (\r\n          <button\r\n            disabled={props.followingInProgress.some((id) => id === user.id)}\r\n            onClick={() => {\r\n              props.follow(user.id);\r\n            }}\r\n          >\r\n                Follow\r\n          </button>\r\n        )}\r\n      </div>\r\n      <div>{user.name} u.location.city и u.location.country</div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Users;\r\n","import React from 'react';\r\nimport Paginator from './../common/Paginator/Paginator';\r\nimport User from './User';\r\n\r\nfunction Users(props) {\r\n  return (\r\n    <div>\r\n      <Paginator\r\n        currentPage={props.currentPage}\r\n        onPageChanged={props.onPageChanged}\r\n        totalItemsCount={props.totalUsersCount}\r\n        pageSize={props.pageSize}\r\n        changeCurrentPage={props.changeCurrentPage}\r\n      />\r\n\r\n      {props.users.map((u) => (\r\n        <User\r\n          key={u.id}\r\n          user={u}\r\n          followingInProgress={props.followingInProgress}\r\n          unfollow={props.unfollow}\r\n          follow={props.follow}\r\n        />\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Users;\r\n","import React from 'react';\r\nimport {\r\n  follow,\r\n  unfollow,\r\n  setCurrentPage,\r\n  setIsFollowingProgress,\r\n  getUsersThunkCreator,\r\n} from './../../redux/users-reducer.js';\r\nimport {\r\n  getUsers, getPageSize, getTotalUsersCount, getCurrentPage, getIsFetching, getFollowingInProgress,\r\n} from './../../redux/selectors.js';\r\nimport Users from './Users';\r\nimport { connect } from 'react-redux';\r\nimport Preloader from './../common/preloader/Preloader';\r\nimport { compose } from 'redux';\r\nimport { withAuthNavigateComponent } from '../../hoc/withAuthNavigate.js';\r\n\r\nclass UsersAPI extends React.Component {\r\n  componentDidMount() {\r\n    this.props.getUsersThunkCreator(\r\n      this.props.pageSize,\r\n      this.props.currentPage,\r\n    );\r\n  }\r\n\r\n  changeCurrentPage = (currentPage) => {\r\n    this.props.setCurrentPage(currentPage);\r\n    this.props.getUsersThunkCreator(this.props.pageSize, currentPage);\r\n  };\r\n\r\n  render() {\r\n    const pageCount = Math.ceil(this.props.totalUsersCount / this.props.pageSize);\r\n    const pages = [];\r\n    for (let i = 1; i <= pageCount; i++) {\r\n      pages.push(i);\r\n    }\r\n\r\n    return (\r\n      <>\r\n        {this.props.isFetching ? (\r\n          <Preloader />\r\n        ) : (\r\n          <Users\r\n            pageSize={this.props.pageSize}\r\n            totalUsersCount={this.props.totalUsersCount}\r\n            changeCurrentPage={this.changeCurrentPage}\r\n            currentPage={this.props.currentPage}\r\n            users={this.props.users}\r\n            follow={this.props.follow}\r\n            unfollow={this.props.unfollow}\r\n            followingInProgress={this.props.followingInProgress}\r\n          />\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    users: getUsers(state),\r\n    pageSize: getPageSize(state),\r\n    totalUsersCount: getTotalUsersCount(state),\r\n    currentPage: getCurrentPage(state),\r\n    isFetching: getIsFetching(state),\r\n    followingInProgress: getFollowingInProgress(state),\r\n  };\r\n};\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, {\r\n    follow,\r\n    unfollow,\r\n    setCurrentPage,\r\n    setIsFollowingProgress,\r\n    getUsersThunkCreator,\r\n  }),\r\n  withAuthNavigateComponent,\r\n)(UsersAPI);\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Field } from 'redux-form';\r\nimport { reduxForm } from 'redux-form';\r\nimport { Element } from '../common/formsControls/FormsControls';\r\nimport {\r\n  required,\r\n  maxLengthCreator,\r\n} from './../../assets/validation/validation';\r\nimport { login } from './../../redux/auth-reducer';\r\nimport { Navigate } from 'react-router-dom';\r\nimport './../common/formsControls/FormsControls.scss';\r\nimport './Login.scss';\r\nimport background from '../../assets/images/backgroundLogin.jpg';\r\n\r\nconst maxLength30 = maxLengthCreator(30);\r\n\r\nconst LoginForm = ({ handleSubmit, error }) => {\r\n  return (\r\n    <form onSubmit={handleSubmit}>\r\n      <Field\r\n        placeholder=\"Login\"\r\n        name=\"login\"\r\n        component={Element}\r\n        elementtype=\"input\"\r\n        validate={[required, maxLength30]}\r\n      />\r\n      <br />\r\n      <Field\r\n        placeholder=\"Password\"\r\n        name=\"password\"\r\n        type=\"password\"\r\n        component={Element}\r\n        elementtype=\"input\"\r\n        validate={[required, maxLength30]}\r\n      />\r\n      <br />\r\n      <Field type=\"checkbox\" name=\"rememberMe\" component=\"input\" /> remember me\r\n      <br />\r\n      {error && <div className=\"text-error\"> {error} </div>}\r\n      <button>Login</button>\r\n    </form>\r\n  );\r\n};\r\n\r\nconst LoginReduxForm = reduxForm({\r\n  form: 'login',\r\n})(LoginForm);\r\n\r\nconst Login = (props) => {\r\n  const onSubmit = (formData) => {\r\n    props.login(formData.login, formData.password, formData.rememberMe);\r\n  };\r\n\r\n  if (props.isAuth) {\r\n    return <Navigate to={'/profile/' + props.authorizedUserId} />;\r\n  }\r\n  return (\r\n    <div className=\"login\" style={{ backgroundImage: `url(${background})` }}>\r\n      <h1>Login page</h1>\r\n      <LoginReduxForm onSubmit={onSubmit} />\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n  isAuth: state.auth.isAuth,\r\n  authorizedUserId: state.auth.id,\r\n});\r\n\r\nexport default connect(mapStateToProps, { login })(Login);\r\n","import { getAuthUserDataThunkCreator } from './auth-reducer';\r\n\r\nconst INITIALIZED_SUCCESS = 'INITIALIZED_SUCCESS';\r\n\r\nconst initialState = {\r\n  isInitialized: false,\r\n};\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n  case INITIALIZED_SUCCESS:\r\n    return {\r\n      ...state,\r\n      isInitialized: true,\r\n    };\r\n\r\n  default:\r\n    return state;\r\n  }\r\n};\r\n\r\nexport const initializedSuccess = () => ({\r\n  type: 'INITIALIZED_SUCCESS',\r\n});\r\n\r\nexport const initializedApp = () => (dispatch) => {\r\n  const authUserData = dispatch(getAuthUserDataThunkCreator());\r\n  Promise.all([authUserData])\r\n    .then( () => {\r\n      dispatch(initializedSuccess());\r\n    });\r\n  \r\n};\r\n\r\nexport default appReducer;\r\n","import React from 'react';\nimport { Route, Routes } from 'react-router-dom';\nimport DialogsContainer from './components/dialogs/DialogsContainer';\nimport ProfileContainer from './components/profile/ProfileContainer.jsx';\nimport Layout from './Layout.jsx';\nimport UsersContainer from './components/users/UsersContainer';\nimport Login from './components/login/Login';\nimport Preloader from './components/common/preloader/Preloader';\nimport { initializedApp } from './redux/app-reducer.js';\nimport { connect } from 'react-redux';\n\nclass App extends React.Component {\n  componentDidMount() {\n    this.props.initializedApp();\n  }\n\n  render() {\n    if (!this.props.isInitialized) {\n      return <Preloader />;\n    }\n    return (\n      <Routes>\n        <Route path=\"/\" element={<Layout />}>\n          <Route path=\"profile/\" element={<ProfileContainer />}>\n            <Route path=\":userId\" element={<ProfileContainer />} />\n          </Route>\n          <Route path=\"dialogs/*\" element={<DialogsContainer />}>\n            <Route path=\":id\" element={<p>message</p>} />\n          </Route>\n          <Route path=\"users/\" element={<UsersContainer />} />\n          <Route path=\"login/\" element={<Login />} />\n        </Route>\n      </Routes>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  isInitialized: state.app.isInitialized,\n});\n\nexport default connect(mapStateToProps, {\n  initializedApp,\n})(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/,\n    ),\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA',\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.',\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.',\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import { applyMiddleware, combineReducers, createStore, compose } from 'redux';\r\nimport profileReducer from './profile-reducer';\r\nimport dialogsReducer from './dialogs-reducer';\r\nimport usersReducer from './users-reducer';\r\nimport authReducer from './auth-reducer';\r\nimport appReducer from './app-reducer';\r\nimport thunkMiddleware from 'redux-thunk';\r\nimport { reducer as formReducer } from 'redux-form';\r\n\r\nconst reducers = combineReducers({\r\n  profilePage: profileReducer,\r\n  dialogsPage: dialogsReducer,\r\n  usersPage: usersReducer,\r\n  auth: authReducer,\r\n  form: formReducer,\r\n  app: appReducer,\r\n});\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(\r\n  reducers,\r\n  composeEnhancers(applyMiddleware(thunkMiddleware)),\r\n);\r\n// const store = createStore(reducers, applyMiddleware(thunkMiddleware));\r\nwindow.__store__ = store;\r\n\r\nexport default store;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport store from './redux/redux-store.js';\nimport { HashRouter } from 'react-router-dom';\nimport { Provider } from 'react-redux';\n\nReactDOM.render(\n  <HashRouter>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </HashRouter>,\n  document.getElementById('root'),\n);\n\nserviceWorker.unregister();\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAAA0CAYAAADFeBvrAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAIpSURBVHgB7ZpLaipBFIb/XK+iA+Eq+EBRLzhw4lCHupWsITtIdpBdOdCBAycOJFFQfKHxAYoPjH+FlgSMCV1VUEp9UNj2i/761Kk6hd4dDod7AM/H9g/XzeuxPd4dhV6OG/9xG7xR6IAb4g9uDCtkOlbIdKyQ6Vgh07FCpmOFTOcvNLDf7zEej7FcLs8e9/l8SCQS8Hg8UI0WoVarhdVqdfGczWaDbDYL1SjvcpPJ5EcZwuh9F0EZlArxrQ8Gg1+fz3N5jUqUrFiZL/1+X+SOG5hT4XAYsVgMskgL9Xo9jEYjqIBSqVQKMkh1OeaLKhnnfmwySI1y0+n04vHtdotOp3N6yGAwiEwmg0AgIL5XKhXsdjuUSqXTNbPZTETKLVJClxKaI12tVhOffr9f7OMLYEQLhYKQ4oPP5/Mv163Xa8igZR4i9XpdyPDhnTc+HA7RaDREKxaLyOVyUI2W0mexWIjGauBz94lGo0gmkyJSv5mr3KBFiLlDzuUC84hclZCT9OdGLGefc45qtAmFQiExR7XbbbGPUeM297Er6hLSNijk83lUq1U0m03RHDji6ShKHbQJMQLlchndbvc0XzF/GB2v1/vtdbJLCqnShw/LOk4l7KrpdBpukcqhSCSifJEWj8chg5SQypUn78HClPeUQcnygSUQSxo3cwtFnDJIVobYX/BMxwqZjhUyHStkOlbIdKyQ6Vgh06HQG26HVwo94OPvjdcOA/P0DltR65/ibhk9AAAAAElFTkSuQmCC\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__33C2q\",\"dialogsItems\":\"Dialogs_dialogsItems__npegX\",\"active\":\"Dialogs_active__1FG3N\",\"messages\":\"Dialogs_messages__2rzwG\"};"],"sourceRoot":""}